<!DOCTYPE html>
<html lang="English">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>Account Protocol | TOP Developer documentation</title>
    <meta name="generator" content="VuePress 1.7.1">
    <link rel="icon" href="/favicon.ico">
    <meta name="description" content="TOP Developer documentation">
    <meta property="og:title" content="Account Protocol">
    <meta property="og:type" content="website">
    <meta property="og:url" content="/en/AboutTOPNetwork/Protocol/AccountProtocol/">
    <meta property="og:image" content="undefined">
    <meta name="twitter:title" content="Account Protocol">
    <meta name="twitter:url" content="/en/AboutTOPNetwork/Protocol/AccountProtocol/">
    <meta name="twitter:card" content="summary_large_image">
    <meta name="twitter:image" content="undefined">
    <meta name="image" content="undefined">
    
    <link rel="preload" href="/assets/css/0.styles.a8ed2d5d.css" as="style"><link rel="preload" href="/assets/js/app.5b29f18e.js" as="script"><link rel="preload" href="/assets/js/4.d7203594.js" as="script"><link rel="preload" href="/assets/js/1.65ffe72b.js" as="script"><link rel="preload" href="/assets/js/3.83317c84.js" as="script"><link rel="preload" href="/assets/js/15.eec79cff.js" as="script"><link rel="prefetch" href="/assets/js/10.14b39da1.js"><link rel="prefetch" href="/assets/js/100.0b9c7b63.js"><link rel="prefetch" href="/assets/js/101.3ab21209.js"><link rel="prefetch" href="/assets/js/102.cfa306c9.js"><link rel="prefetch" href="/assets/js/103.9f1f7356.js"><link rel="prefetch" href="/assets/js/104.f5917ce1.js"><link rel="prefetch" href="/assets/js/105.dff2065d.js"><link rel="prefetch" href="/assets/js/106.9e41c6ea.js"><link rel="prefetch" href="/assets/js/107.a432a98b.js"><link rel="prefetch" href="/assets/js/108.52283ff9.js"><link rel="prefetch" href="/assets/js/109.f30f2c75.js"><link rel="prefetch" href="/assets/js/11.7ac5bbbb.js"><link rel="prefetch" href="/assets/js/110.f0f662a0.js"><link rel="prefetch" href="/assets/js/111.a600cd14.js"><link rel="prefetch" href="/assets/js/112.c3fb9da4.js"><link rel="prefetch" href="/assets/js/113.6a4c3180.js"><link rel="prefetch" href="/assets/js/114.b56ff571.js"><link rel="prefetch" href="/assets/js/115.ae37ed85.js"><link rel="prefetch" href="/assets/js/116.c40318d4.js"><link rel="prefetch" href="/assets/js/117.0fafd101.js"><link rel="prefetch" href="/assets/js/118.42412be4.js"><link rel="prefetch" href="/assets/js/119.caf14697.js"><link rel="prefetch" href="/assets/js/12.6633da07.js"><link rel="prefetch" href="/assets/js/120.6a8ed66b.js"><link rel="prefetch" href="/assets/js/121.33677174.js"><link rel="prefetch" href="/assets/js/122.acf3d8f7.js"><link rel="prefetch" href="/assets/js/123.741e9eca.js"><link rel="prefetch" href="/assets/js/124.d18134b0.js"><link rel="prefetch" href="/assets/js/125.9ffec068.js"><link rel="prefetch" href="/assets/js/126.d8d963ec.js"><link rel="prefetch" href="/assets/js/127.3d93849c.js"><link rel="prefetch" href="/assets/js/128.a17dcc95.js"><link rel="prefetch" href="/assets/js/129.73a82782.js"><link rel="prefetch" href="/assets/js/13.139950d1.js"><link rel="prefetch" href="/assets/js/130.bad92ddc.js"><link rel="prefetch" href="/assets/js/131.b923b675.js"><link rel="prefetch" href="/assets/js/132.39128105.js"><link rel="prefetch" href="/assets/js/133.b70d7989.js"><link rel="prefetch" href="/assets/js/134.169214d9.js"><link rel="prefetch" href="/assets/js/135.d49286dd.js"><link rel="prefetch" href="/assets/js/136.69a1efd0.js"><link rel="prefetch" href="/assets/js/137.e9434002.js"><link rel="prefetch" href="/assets/js/138.c764955d.js"><link rel="prefetch" href="/assets/js/139.e189c8ac.js"><link rel="prefetch" href="/assets/js/14.1e127002.js"><link rel="prefetch" href="/assets/js/140.012ee080.js"><link rel="prefetch" href="/assets/js/141.07509caf.js"><link rel="prefetch" href="/assets/js/142.4272437c.js"><link rel="prefetch" href="/assets/js/143.d421dc59.js"><link rel="prefetch" href="/assets/js/144.68d68e88.js"><link rel="prefetch" href="/assets/js/145.4f32ddf9.js"><link rel="prefetch" href="/assets/js/146.38ec57fc.js"><link rel="prefetch" href="/assets/js/147.654deed7.js"><link rel="prefetch" href="/assets/js/148.20f7577e.js"><link rel="prefetch" href="/assets/js/149.e6e91cb6.js"><link rel="prefetch" href="/assets/js/16.3c7d6db1.js"><link rel="prefetch" href="/assets/js/17.f6d7d812.js"><link rel="prefetch" href="/assets/js/18.0761aa6a.js"><link rel="prefetch" href="/assets/js/19.6af67d1c.js"><link rel="prefetch" href="/assets/js/20.90c549fb.js"><link rel="prefetch" href="/assets/js/21.5b9058ea.js"><link rel="prefetch" href="/assets/js/22.6b84d7f3.js"><link rel="prefetch" href="/assets/js/23.527ca492.js"><link rel="prefetch" href="/assets/js/24.a2f525d3.js"><link rel="prefetch" href="/assets/js/25.dd3cbc30.js"><link rel="prefetch" href="/assets/js/26.a3dcd25c.js"><link rel="prefetch" href="/assets/js/27.68b7dd8c.js"><link rel="prefetch" href="/assets/js/28.9d7d0ef0.js"><link rel="prefetch" href="/assets/js/29.dda668ca.js"><link rel="prefetch" href="/assets/js/30.f08a0c1d.js"><link rel="prefetch" href="/assets/js/31.7f376541.js"><link rel="prefetch" href="/assets/js/32.854eb04a.js"><link rel="prefetch" href="/assets/js/33.d0ed15d6.js"><link rel="prefetch" href="/assets/js/34.651a80ce.js"><link rel="prefetch" href="/assets/js/35.c8a876a1.js"><link rel="prefetch" href="/assets/js/36.9ab0eaf7.js"><link rel="prefetch" href="/assets/js/37.f494acdd.js"><link rel="prefetch" href="/assets/js/38.9692ed2f.js"><link rel="prefetch" href="/assets/js/39.30cee315.js"><link rel="prefetch" href="/assets/js/40.e3533487.js"><link rel="prefetch" href="/assets/js/41.63c719dd.js"><link rel="prefetch" href="/assets/js/42.1e32a6cb.js"><link rel="prefetch" href="/assets/js/43.8c530f85.js"><link rel="prefetch" href="/assets/js/44.e56adfef.js"><link rel="prefetch" href="/assets/js/45.5326e112.js"><link rel="prefetch" href="/assets/js/46.f3c92f82.js"><link rel="prefetch" href="/assets/js/47.077ecc18.js"><link rel="prefetch" href="/assets/js/48.4488bb4c.js"><link rel="prefetch" href="/assets/js/49.7d65064e.js"><link rel="prefetch" href="/assets/js/5.0949e6cf.js"><link rel="prefetch" href="/assets/js/50.cef3b39b.js"><link rel="prefetch" href="/assets/js/51.93f3a0e4.js"><link rel="prefetch" href="/assets/js/52.30957e2c.js"><link rel="prefetch" href="/assets/js/53.64ab3819.js"><link rel="prefetch" href="/assets/js/54.32fae257.js"><link rel="prefetch" href="/assets/js/55.66f4ce57.js"><link rel="prefetch" href="/assets/js/56.ee3733c8.js"><link rel="prefetch" href="/assets/js/57.a5d2ffc2.js"><link rel="prefetch" href="/assets/js/58.f9ae3bef.js"><link rel="prefetch" href="/assets/js/59.9ac0a32a.js"><link rel="prefetch" href="/assets/js/6.6fe3e27f.js"><link rel="prefetch" href="/assets/js/60.65967536.js"><link rel="prefetch" href="/assets/js/61.4dbedc1f.js"><link rel="prefetch" href="/assets/js/62.1fcc6311.js"><link rel="prefetch" href="/assets/js/63.7a7c7552.js"><link rel="prefetch" href="/assets/js/64.4d4d56d9.js"><link rel="prefetch" href="/assets/js/65.0e92ae79.js"><link rel="prefetch" href="/assets/js/66.0de6d795.js"><link rel="prefetch" href="/assets/js/67.90dae9a7.js"><link rel="prefetch" href="/assets/js/68.afc4c576.js"><link rel="prefetch" href="/assets/js/69.1b93824e.js"><link rel="prefetch" href="/assets/js/7.222a7f74.js"><link rel="prefetch" href="/assets/js/70.da9cee4b.js"><link rel="prefetch" href="/assets/js/71.61199371.js"><link rel="prefetch" href="/assets/js/72.4ccd9a9a.js"><link rel="prefetch" href="/assets/js/73.81e55f0f.js"><link rel="prefetch" href="/assets/js/74.1cca15ef.js"><link rel="prefetch" href="/assets/js/75.23f1a120.js"><link rel="prefetch" href="/assets/js/76.565c8e82.js"><link rel="prefetch" href="/assets/js/77.1b397421.js"><link rel="prefetch" href="/assets/js/78.5f9f72e9.js"><link rel="prefetch" href="/assets/js/79.15d9ef4d.js"><link rel="prefetch" href="/assets/js/8.bf6aab03.js"><link rel="prefetch" href="/assets/js/80.5343e5a6.js"><link rel="prefetch" href="/assets/js/81.39a68a08.js"><link rel="prefetch" href="/assets/js/82.dd6510a5.js"><link rel="prefetch" href="/assets/js/83.95cc8f59.js"><link rel="prefetch" href="/assets/js/84.422c3ca6.js"><link rel="prefetch" href="/assets/js/85.5931454e.js"><link rel="prefetch" href="/assets/js/86.a3204773.js"><link rel="prefetch" href="/assets/js/87.a3374ddf.js"><link rel="prefetch" href="/assets/js/88.721f8ae3.js"><link rel="prefetch" href="/assets/js/89.9288f92d.js"><link rel="prefetch" href="/assets/js/9.00cf7a4a.js"><link rel="prefetch" href="/assets/js/90.a99b81ba.js"><link rel="prefetch" href="/assets/js/91.cc02538c.js"><link rel="prefetch" href="/assets/js/92.86c7d502.js"><link rel="prefetch" href="/assets/js/93.993d228b.js"><link rel="prefetch" href="/assets/js/94.b048a6b7.js"><link rel="prefetch" href="/assets/js/95.36ef925d.js"><link rel="prefetch" href="/assets/js/96.5f29e3bf.js"><link rel="prefetch" href="/assets/js/97.aedd0a0d.js"><link rel="prefetch" href="/assets/js/98.e565bbfc.js"><link rel="prefetch" href="/assets/js/99.633f5ca3.js">
    <link rel="stylesheet" href="/assets/css/0.styles.a8ed2d5d.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/en/" class="home-link router-link-active"><img src="/images/logo.png" alt="TOP Developer documentation" class="logo"> <span class="site-name can-hide">TOP Developer documentation</span></a> <div class="links"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="guide" class="dropdown-title"><span class="title">guide</span> <span class="arrow down"></span></button> <button type="button" aria-label="guide" class="mobile-dropdown-title"><span class="title">guide</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="https://kyp82nlf.github.io/myDoc/static/docs-en.html" target="_blank" rel="noopener noreferrer" class="nav-link external">
  Home
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li><li class="dropdown-item"><!----> <a href="/en/" class="nav-link">
  guide
</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="Select language" class="dropdown-title"><span class="title">Languages</span> <span class="arrow down"></span></button> <button type="button" aria-label="Select language" class="mobile-dropdown-title"><span class="title">Languages</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/en/AboutTOPNetwork/Protocol/AccountProtocol/" aria-current="page" class="nav-link router-link-exact-active router-link-active">
  English
</a></li><li class="dropdown-item"><!----> <a href="/zh/AboutTOPNetwork/Protocol/AccountProtocol/" class="nav-link">
  中文
</a></li></ul></div></div> <!----></nav></div></header> <div class="sidebar-mask"></div> <aside class="sidebar"><nav class="nav-links"><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="guide" class="dropdown-title"><span class="title">guide</span> <span class="arrow down"></span></button> <button type="button" aria-label="guide" class="mobile-dropdown-title"><span class="title">guide</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="https://kyp82nlf.github.io/myDoc/static/docs-en.html" target="_blank" rel="noopener noreferrer" class="nav-link external">
  Home
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li><li class="dropdown-item"><!----> <a href="/en/" class="nav-link">
  guide
</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="Select language" class="dropdown-title"><span class="title">Languages</span> <span class="arrow down"></span></button> <button type="button" aria-label="Select language" class="mobile-dropdown-title"><span class="title">Languages</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/en/AboutTOPNetwork/Protocol/AccountProtocol/" aria-current="page" class="nav-link router-link-exact-active router-link-active">
  English
</a></li><li class="dropdown-item"><!----> <a href="/zh/AboutTOPNetwork/Protocol/AccountProtocol/" class="nav-link">
  中文
</a></li></ul></div></div> <!----></nav>  <ul class="sidebar-links"><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading open"><span>About TOP Network</span> <span class="arrow down"></span></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/en/AboutTOPNetwork/TOPNetworkPlatform/" class="sidebar-link">TOP Network Platform</a></li><li><section class="sidebar-group collapsable is-sub-group depth-1"><a href="/en/AboutTOPNetwork/TOPChainInfrastructure/Overview" class="sidebar-heading clickable"><span>TOP Network Infrastructure</span> <span class="arrow right"></span></a> <!----></section></li><li><section class="sidebar-group collapsable is-sub-group depth-1"><a href="/en/AboutTOPNetwork/Protocol/OverView" class="sidebar-heading clickable open"><span>TOP Network Protocol</span> <span class="arrow down"></span></a> <ul class="sidebar-links sidebar-group-items"><li><a href="/en/AboutTOPNetwork/Protocol/TOPNetwokP2PNetwork/" class="sidebar-link">TOP Network P2P Network Protocol</a></li><li><a href="/en/AboutTOPNetwork/Protocol/AccountProtocol/" aria-current="page" class="active sidebar-link">Account Protocol</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/en/AboutTOPNetwork/Protocol/AccountProtocol/#overview" class="sidebar-link">Overview</a></li><li class="sidebar-sub-header"><a href="/en/AboutTOPNetwork/Protocol/AccountProtocol/#account-object" class="sidebar-link">Account Object</a></li><li class="sidebar-sub-header"><a href="/en/AboutTOPNetwork/Protocol/AccountProtocol/#account-address" class="sidebar-link">Account Address</a></li><li class="sidebar-sub-header"><a href="/en/AboutTOPNetwork/Protocol/AccountProtocol/#key-pair-generation" class="sidebar-link">Key-pair Generation</a></li><li class="sidebar-sub-header"><a href="/en/AboutTOPNetwork/Protocol/AccountProtocol/#keystore-file" class="sidebar-link">Keystore File</a></li></ul></li><li><a href="/en/AboutTOPNetwork/Protocol/ResourceModel/" class="sidebar-link">Resource Model</a></li><li><a href="/en/AboutTOPNetwork/Protocol/EconomicModel/" class="sidebar-link">Economic Model</a></li><li><a href="/en/AboutTOPNetwork/Protocol/TransactionProtocol/" class="sidebar-link">Transaction Protocol</a></li><li><a href="/en/AboutTOPNetwork/Protocol/ConsensusProtocol/" class="sidebar-link">Consensus Protocol</a></li></ul></section></li><li><a href="/en/AboutTOPNetwork/Security/" class="sidebar-link">Security</a></li><li><a href="/en/AboutTOPNetwork/Glossary/" class="sidebar-link">Glossary</a></li><li><a href="/en/AboutTOPNetwork/Download/learningResource/" class="sidebar-link">Download</a></li></ul></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>TOP Network Node</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>Smart Contract</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>On-chain Governance</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>TOPIO</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>RPC API Reference</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>Wallet Integration Guide</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>SDKs</span> <span class="arrow right"></span></p> <!----></section></li></ul> </aside> <main class="page" data-v-64d2c529> <nav class="breadcrumbs fixed" data-v-c65b7bde data-v-64d2c529><div class="nav-wrapper" data-v-c65b7bde><a href="/en/" class="breadcrumb router-link-active" data-v-c65b7bde>Home</a><a href="/en/AboutTOPNetwork/Protocol/AccountProtocol/" aria-current="page" class="breadcrumb router-link-exact-active router-link-active" data-v-c65b7bde>Account Protocol</a></div></nav> <div class="theme-default-content content__default" data-v-64d2c529><h1 id="account-protocol"><a href="#account-protocol" class="header-anchor">#</a> Account Protocol</h1> <h2 id="overview"><a href="#overview" class="header-anchor">#</a> Overview</h2> <p>TOP Network uses an account model. The account is the basis of all the TOP Network's activities.</p> <p>The address is the unique identifier of an account, and a private key signature is required to operate an account.</p> <h2 id="account-object"><a href="#account-object" class="header-anchor">#</a> Account Object</h2> <p>An account is an object that contains state information and logic, which includes balances, properties of stored data, and actions for each property.</p> <p>The account property is an object of user-defined data that is added as a key-value pair, and the user balance is a special property.</p> <p>A key is an arbitrary string whose value can be any data type, such as integer, string, list, HashMap, and so on.</p> <p>An action can be a system-level function, such as transfer or a custom action managed by the application smart contract deployed by the account owner.</p> <p>Account objects and their methods can be easily and flexibly extended with new properties and custom actions</p> <h2 id="account-address"><a href="#account-address" class="header-anchor">#</a> Account Address</h2> <h3 id="account-address-type"><a href="#account-address-type" class="header-anchor">#</a> Account Address Type</h3> <p>The account address types are shown in the table below.</p> <table><thead><tr><th>Account Type</th> <th>Description</th></tr></thead> <tbody><tr><td>Normal User Account</td> <td>Independent Account:T-0。</td></tr> <tr><td>Application Smart Contract Account</td> <td>T-3，sub account of the independent account.Is created when the contract is deployed。</td></tr> <tr><td>System Smart Contract Account</td> <td>Root-Beacon System Smart Contract Account：T-21；<br>Sub-Beacon ystem Smart Contract Account：T-22；<br>Shard System Smart Contract Account：T-2。</td></tr></tbody></table> <p>Example：</p> <ul><li><p>Independent Account:T-0-LQSxHEUBGLPY57SNjS2iMDba643NCHGswp</p></li> <li><p>Shard System Smart Contract Account:T-2-ML7oBZbitBCcXhrJwqBhha2MUimd6SM9Z6</p></li></ul> <h3 id="account-address-format"><a href="#account-address-format" class="header-anchor">#</a> Account Address Format</h3> <table><thead><tr><th>Fromat</th> <th>Length</th> <th>Description</th></tr></thead> <tbody><tr><td>Prefix Identification</td> <td>1 byte</td> <td>T:TOP。</td></tr> <tr><td>Address Type</td> <td>1 btye</td> <td>Such as normal account、contract account.</td></tr> <tr><td>Network ID</td> <td>2 byte</td> <td>0-TOP:mainnet，&quot;0&quot; not displayed；<br>65535:testnet；<br>else：service chains。</td></tr> <tr><td>Base58 code</td> <td>variable-length</td> <td>Hash the public key.</td></tr> <tr><td>TABLE-ID Postfix</td> <td>4 byte</td> <td>Optional，shard of system smart contract.</td></tr></tbody></table> <h3 id="account-space-shard-mapping"><a href="#account-space-shard-mapping" class="header-anchor">#</a> Account Space Shard Mapping</h3> <p>The process of account space mapping to sharding is as follows:</p> <p><img src="AccountProtocol.assets/Snap35.jpg" alt="Snap35"></p> <ul><li><p>Root-Beacon System Smart Contract Account</p> <p><img src="AccountProtocol.assets/Snap81.jpg" alt="Snap81"></p></li> <li><p>Sub-Beacon System Smart Contract Account</p> <p><img src="AccountProtocol.assets/Snap82.jpg" alt="Snap82"></p></li> <li><p>Shard System Smart Contract Account、Normal User Account and Application Smart Contract Account</p> <p><img src="AccountProtocol.assets/Snap38.jpg" alt="Snap38"></p></li></ul> <h2 id="key-pair-generation"><a href="#key-pair-generation" class="header-anchor">#</a> Key-pair Generation</h2> <h3 id="key-pair-of-normal-user-account"><a href="#key-pair-of-normal-user-account" class="header-anchor">#</a> Key-pair of Normal User Account</h3> <p><strong>Private Key</strong></p> <p>SHA-256 security hashing algorithm is used to generate a random 256-bit private key, starting with &quot;0x&quot;.</p> <p>Example:</p> <p>0x40fb93846c424a107ac854f52290043e4c57368f035e563f8dc0091be8cc1ff9.<br><strong>Public Key</strong></p> <p>Secp256k1 algorithm is used to generate the public key corresponding to the private key.</p> <p>Example:</p> <p>0x045f04ab02ef604ee8861b32e5b07ba64070d901daffc5edb0f14a1fc2f27c3b193eff0398023b0ea1285abfd3e1cabc5d83575aa9681880184e8cfd207b02c57f.</p> <p><strong>Account Address</strong></p> <p>The ECDSA digital signature algorithm is used to convert the public key into the account address and prefix &quot;T-0&quot; according to the account type.</p> <p>Example:</p> <p>T-0-LWkTjhseZj7tPZkXwifoTPm2dUJY63jdEd。</p> <h3 id="key-pair-of-application-smart-contract-account"><a href="#key-pair-of-application-smart-contract-account" class="header-anchor">#</a> Key-pair of Application Smart Contract Account</h3> <p><strong>Key-pair</strong></p> <p>Application smart contract account uses the same public-private key generation algorithm as normal user account.<br></p> <p><strong>Account Address</strong></p> <p>The application smart contract account address is to add the public key of the contract account and the public key of its parent account bit by bit to obtain a set of array, and then uses ECDSA digital signature algorithm to convert the array into address, and add prefix &quot;T-3&quot;.</p> <p>Example:</p> <p>T-3-Mo9KPHMGZyyn8AwzUJx6dkdZxzUxhgE9hN。<br></p> <p>Example of application smart contract account address generation:</p> <div class="language- extra-class"><pre class="language-text"><code> std::string      xecpubkey_t::to_address(const std::string &amp; parent_addr,const char addr_type,const uint16_t ledger_id)
        {
            if(parent_addr.empty())
                return to_address(addr_type,ledger_id);

            uint8_t     temp_publickey_data[65];
            memcpy(temp_publickey_data, m_publickey_data, sizeof(temp_publickey_data));
            const int parent_addr_size = std::min((int)parent_addr.size(),65);
            for(int i = 0; i &lt; parent_addr_size; ++i)
            {
                temp_publickey_data[i] += parent_addr[i];
            }
            
            return to_address(temp_publickey_data, addr_type, ledger_id);
        }
</code></pre></div><h2 id="keystore-file"><a href="#keystore-file" class="header-anchor">#</a> Keystore File</h2> <h3 id="account-keystore-file"><a href="#account-keystore-file" class="header-anchor">#</a> Account Keystore File</h3> <p>The account keystore file is your unique private key and a encrypted file that is used to sign transactions. It allows you to store the key in an encrypted manner.</p> <p>This approach combines<strong>security</strong>  (an attacker needs the account keystore file and your password to steal your assets) and <strong>ease of use</strong> (you only need the account keystore file and password to access the assets).</p> <p>In order to send the transaction, the TOP Network client will ask you to enter a password (the same as when you created the account) to decrypt your private key. Once it is decrypted, the client program gets the private key to sign the transaction, allowing you to move the asset.</p> <p>If the private key is lost, it means you cant no longer sign the  transaction, and your assets are permanently locked up in your account.</p> <p>You must backup your account keystore file and remember the password.</p> <p>You must never share the private key and account keystore file with anyone! They control access to your funds!</p> <p>Account keystore file:</p> <div class="language- extra-class"><pre class="language-text"><code>{
   &quot;address&quot; : &quot;T-0-LWkTjhseZj7tPZkXwifoTPm2dUJY63jdEd&quot;,
   &quot;crypto&quot; : {
      &quot;cipher&quot; : &quot;aes-256-cbc&quot;,
      &quot;cipherparams&quot; : {
         &quot;iv&quot; : &quot;0x40fb93846c424a107ac854f52290043e4c57368f035e563f8dc0091be8cc1ff9&quot;
      },
      &quot;ciphertext&quot; : &quot;0xb502a93ad3a8af3b9e4b939c40f851d240195ce9aeb417325b4d7bb64a7198f376a001a0a03f4a5b1d61af7b4c5b2cea65bc332a0e8399155eb0505b52cdf477c9c1f38e14857b453603cc4d385d468f&quot;,
      &quot;kdf&quot; : &quot;hkdf&quot;,
      &quot;kdfparams&quot; : {
         &quot;dklen&quot; : 32,
         &quot;info&quot; : &quot;0xb69d0f41ad6a5511&quot;,
         &quot;prf&quot; : &quot;sha3-256&quot;,
         &quot;salt&quot; : &quot;0x548c58f15a52ce6c879b5862ec7f12e13dc8b3df1329b8a4528324dfdb940740&quot;
      },
      &quot;mac&quot; : &quot;0xbd877ac89217f31a8c89db4900c4c1cfd9e16a9d4ac149cbdb09ede71f2d6ce4&quot;
   },
   &quot;hint&quot; : &quot;af&quot;,
   &quot;public_key&quot; : &quot;0x045f04ab02ef604ee8861b32e5b07ba64070d901daffc5edb0f14a1fc2f27c3b193eff0398023b0ea1285abfd3e1cabc5d83575aa9681880184e8cfd207b02c57f&quot;
}
</code></pre></div><table><thead><tr><th>Parameters</th> <th></th> <th></th> <th>Description</th></tr></thead> <tbody><tr><td>address</td> <td></td> <td></td> <td>Account address.</td></tr> <tr><td>crypto</td> <td></td> <td></td> <td></td></tr> <tr><td></td> <td>cipher</td> <td></td> <td>Private key encryption algorithm.</td></tr> <tr><td></td> <td>cipherparams</td> <td></td> <td>Cipher encryption algorithm parameters.</td></tr> <tr><td></td> <td></td> <td>iv</td> <td>vector</td></tr> <tr><td></td> <td>ciphertext</td> <td></td> <td>Encrypted private key.</td></tr> <tr><td></td> <td>kdf</td> <td></td> <td>Key generation function that lets you encrypt the account keystore file with a password.</td></tr> <tr><td></td> <td>kdfparams</td> <td></td> <td>Kdf algorithm parameters.</td></tr> <tr><td></td> <td></td> <td>dklen</td> <td>The key length of the private key encryption algorithm.</td></tr> <tr><td></td> <td></td> <td>info</td> <td>Hexadecimal representation of a random number of 8 bytes.</td></tr> <tr><td></td> <td></td> <td>prf</td> <td>Hash algorithm。</td></tr> <tr><td></td> <td>mac</td> <td></td> <td>Message authentication code.</td></tr> <tr><td>hint</td> <td></td> <td></td> <td>The hint of the password of the account keystore.</td></tr> <tr><td>public_key</td> <td></td> <td></td> <td>Account public key。</td></tr></tbody></table> <h3 id="key-pair-keystore-file"><a href="#key-pair-keystore-file" class="header-anchor">#</a> Key-pair Keystore File</h3> <p>The difference between account keystore file and key-pair keystore file is that the key-pair keystore file does not store account address.</p> <p>Key-pair keystore file：</p> <div class="language- extra-class"><pre class="language-text"><code>{
   &quot;crypto&quot; : {
      &quot;cipher&quot; : &quot;aes-256-cbc&quot;,
      &quot;cipherparams&quot; : {
         &quot;iv&quot; : &quot;0xd30883e616d5d30249e6f345ca85e2b3b7bfd442504ac5cb3d37293ff3d7b459&quot;
      },
      &quot;ciphertext&quot; : &quot;0x828bb283bcee1f24147047bfe89b1c54b03af98dc3e3fbc74f1b866ae1a1ead1ab88d21023fe853e9b650d6da7bf695f&quot;,
      &quot;kdf&quot; : &quot;hkdf&quot;,
      &quot;kdfparams&quot; : {
         &quot;dklen&quot; : 32,
         &quot;info&quot; : &quot;0xe82ba4f7f99666f4&quot;,
         &quot;prf&quot; : &quot;sha3-256&quot;,
         &quot;salt&quot; : &quot;0xff7b70a2d32f2158b45f394a1d00d7dfc04dd1345949774894df92e37bfb3a38&quot;
      },
      &quot;mac&quot; : &quot;0xdb82cfd99c7a9fb8e28b4b2e754c9a612c7fa1cbc7e963d04c7036b14e88ac2b&quot;
   },
   &quot;hint&quot; : &quot;basketball&quot;,
   &quot;public_key&quot; : &quot;BFYRfp557uqBAKA54JmFkT+UVXf74LVdHDnjtLBM/V3nyIdKiHLwX2yr7s03RCoHNfciT0Zays3oUvcmkRv5VK4=&quot;
}
</code></pre></div><h3 id="keystore-file-generation"><a href="#keystore-file-generation" class="header-anchor">#</a> Keystore File Generation</h3> <p>Reminder:</p> <blockquote><p>Key-pair keystore file does not store account address.</p></blockquote> <p>Step1 Generate the original private key and use the original data to encode in base64.</p> <p>Step2 Generate 32-byte salt.</p> <div class="language- extra-class"><pre class="language-text"><code>CryptoPP::AutoSeededRandomPool::GenerateBlock
</code></pre></div><p>Step3 Generate 8-byte info.</p> <div class="language- extra-class"><pre class="language-text"><code>CryptoPP::AutoSeededRandomPool::GenerateBlock
</code></pre></div><p>Step4 Generate aes 32-byte encryption key.
Where: Kdf algorithm is hkdf,  hash algorithm is SHA3-256, with the password, to generate the encryption key.</p> <p>Step5 Generate aes 32-byte iv.</p> <div class="language- extra-class"><pre class="language-text"><code>CryptoPP::AutoSeededRandomPool::GenerateBlock
</code></pre></div><p>Step6 Generate ciphertext.</p> <p>Where:Encryption algorithm is AES256, encryption mode is CBC_Mode.</p> <p>Step7 Calculate 32 byte MAC, the last 16 bytes of aes_key are spliced with the encrypted ciphertext, and then hash the spliced data.</p> <p>The hash algorithm adopts SHA3-256.</p> <p>Step8 Write the above data to a file。</p></div> <div class="content-footer" data-v-64d2c529><div class="page-nav" data-v-64d2c529><p class="inner"><span class="prev">
      ←
      <a href="/en/AboutTOPNetwork/Protocol/TOPNetwokP2PNetwork/" class="prev">
        TOP Network P2P Network Protocol
      </a></span> <span class="next"><a href="/en/AboutTOPNetwork/Protocol/ResourceModel/">
        Resource Model
      </a>
      →
    </span></p></div> <footer class="page-edit" data-v-64d2c529><!----> <!----></footer></div> <div data-v-64d2c529></div> <div data-v-64d2c529></div> </main></div><div class="global-ui"><!----></div></div>
    <script src="/assets/js/app.5b29f18e.js" defer></script><script src="/assets/js/4.d7203594.js" defer></script><script src="/assets/js/1.65ffe72b.js" defer></script><script src="/assets/js/3.83317c84.js" defer></script><script src="/assets/js/15.eec79cff.js" defer></script>
  </body>
</html>
